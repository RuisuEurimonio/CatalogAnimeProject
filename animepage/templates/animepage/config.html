{% extends "animepage/base.html" %}

{% block title %} Configuración. {% endblock %}

{% block content %}

<section>

    <h2> Estados configurados </h2>

    <div style="margin: 1rem 0;">
        <a href="{% url 'anime:createStatus' %}" class="btn btn-primary">Crear nuevo estado</a>
    </div>

    {% if status %}

        <div style="overflow-x:auto;">
    <table class="table table-striped" role="table" aria-label="Tabla de estados">
      <thead>
        <tr class="table-titles">
          <th scope="col">ID</th>
          <th scope="col">Nombre</th>
          <th scope="col">Color</th>
          <th class="col" scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for state in status %}
          <tr>
            <td>{{ state.id }}</td>
            <td>{{ state.name }}</td>
            <td>
              <div style="display:flex; align-items:center; gap:0.75rem;">
                <div
                  style="width:28px; height:20px; border-radius:4px; border:1px solid #ccc; background-color: {{ state.color|default:'#ffffff' }};"
                  aria-label="Color {{ state.name }}"
                  title="{{ state.color }}">
                </div>
                <span>{{ state.color }}</span>
              </div>
            </td>
            <td>
              <a href="{% url 'anime:editStatus' state.id %}" class="btn" aria-label="Editar {{ state.name }}">
                Editar
              </a>

              <a href="{% url 'anime:deleteStatus' state.id %}" class="btn" aria-label="Eliminar {{ state.name }}">
                Eliminar
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

    {% else %}
    <p>  No hay estados configurados </p>
    {% endif%}

    <div style="margin: 1rem 0;">
        <a href="{% url 'anime:createGenre' %}" class="btn btn-primary">Crear nuevo genero</a>
    </div>

    {% if genres %}

        <div style="overflow-x:auto;">
    <table class="table table-striped" role="table" aria-label="Tabla de generos">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Nombre</th>
          <th scope="col">Descripción</th>
          <th class="col" scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for genre in genres %}
          <tr>
            <td>{{ genre.id }}</td>
            <td> {{genre.prefix}} - {{ genre.name }}</td>
            <td>{{ genre.description }}</td>
            <td>
              <a href="{% url 'anime:editGenre' genre.id %}" class="btn" aria-label="Editar {{ genre.name }}">
                Editar
              </a>

              <a href="{% url 'anime:deleteGenre' genre.id %}" class="btn" aria-label="Eliminar {{ genre.name }}">
                Eliminar
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

    {% else %}
    <p>  No hay generos configurados </p>
    {% endif%}

</section>

{% endblock %}